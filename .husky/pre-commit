#!/bin/sh
# Load Husky
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ³ Running type check..."

# Run the command inside the container
docker exec -t clipcoral_frontend npm run typecheck

# $? contains the exit code of the last command
EXIT_CODE=$?

# If the exit code is NOT 0, an error occurred
if [ $EXIT_CODE -ne 0 ]; then
  echo "âŒ ERROR: TypeScript found issues (Exit code: $EXIT_CODE)."
  echo "ğŸš« Commit blocked!"
  exit 1
fi

echo "âœ… All clear."
exit 0